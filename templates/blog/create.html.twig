{% extends 'base.html.twig' %}
{% form_theme formArticle 'bootstrap_5_layout.html.twig' %}

{% block body %}
<div class="container mt-5" style="max-width: 800px;">

    <!-- Titre dynamique -->
    <h1 class="mb-4 text-center text-primary">
        {% if editMode %}
            Modifier l'article
        {% else %}
            Créer un nouvel article
        {% endif %}
    </h1>

    <!-- Bouton retour -->
    <div class="mb-4 text-end">
        <a href="{{ path('blog') }}" class="btn btn-outline-secondary">
            <i class="bi bi-arrow-left-circle"></i> Retour à la liste
        </a>
    </div>

    <!-- Formulaire de l'article -->
    <div class="card shadow-sm p-4">
        {{ form_start(formArticle) }}

            <!-- Champ Titre -->
            <div class="mb-3">
                {{ form_label(formArticle.title) }}
                {{ form_widget(formArticle.title, {'attr': {'placeholder': "Titre de l'article", 'class': 'form-control'}}) }}
                {{ form_errors(formArticle.title) }}
            </div>

            <!-- Champ Catégorie -->
            <div class="mb-3">
                {{ form_label(formArticle.category) }}
                {{ form_widget(formArticle.category, {'attr': {'class': 'form-select'}}) }}
                {{ form_errors(formArticle.category) }}
            </div>

            <!-- Champ Contenu -->
            <div class="mb-3">
                {{ form_label(formArticle.content) }}
                {{ form_widget(formArticle.content, {'attr': {'placeholder': "Contenu de l'article", 'class': 'form-control', 'rows': 8}}) }}
                {{ form_errors(formArticle.content) }}
            </div>

            <!-- Champ Image -->
            <div class="mb-3">
                {{ form_label(formArticle.image) }}
                {{ form_widget(formArticle.image, {'attr': {'placeholder': "URL de l'image (optionnel)", 'class': 'form-control'}}) }}
                {{ form_errors(formArticle.image) }}
            </div>

            <!-- Bouton de soumission -->
            <div class="text-end">
                <button class="btn btn-success">
                    {% if editMode %}
                        <i class="bi bi-save"></i> Enregistrer les modifications
                    {% else %}
                        <i class="bi bi-plus-circle"></i> Ajouter l'article
                    {% endif %}
                </button>
            </div>

        {{ form_end(formArticle) }}
    </div>
</div>
{% endblock %}
